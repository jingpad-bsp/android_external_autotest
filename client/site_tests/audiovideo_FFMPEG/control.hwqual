# Copyright (c) 2012 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

AUTHOR = 'The Chromium OS Authors'
NAME = 'audiovideo_FFMPEG with perf constraints'
PURPOSE = 'This test exercises the ffmpeg-based software video decoder.'
CRITERIA = """
This test is a benchmark. Failure criteria may be added by constraints in the
suite control file.
"""

SUITE = 'hwqual'
TIME='MEDIUM'
TEST_CATEGORY = 'FFMPEG'
TEST_CLASS = 'audiovideo'
TEST_TYPE = 'client'

DOC = """
This test runs ffmpeg to test the video and audio subsystems. For more info:
http://www.ffmpeg.org/ffmpeg-doc.html
"""

job.run_test('audiovideo_FFMPEG',
             fps_warning=40,
             constraints=['fps_video_min >= 40.0',
                          'tpf_audio_max <= 4.0', # [ms/frame]
             ])
